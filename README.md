# Meter Reading Platform (MeterVision)

A comprehensive platform for managing hierarchical meter infrastructure (Projects -> Customers -> Buildings -> Places -> Meters) and automating meter readings via image processing.

## ğŸš€ Features

- **Hierarchical Data Management**: Organize meters by Project, Customer, Building, and Place.
- **Image-Based Readings**: Upload meter photos to automatically improved readings.
- **REST API**: Fully documented FastAPI backend.
- **Extensible OCR Service**: Pluggable architecture for integrating advanced OCR models.

## ğŸ› ï¸ Project Structure

```
MeterReading/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ main.py            # FastAPI Application & Endpoints
â”‚   â”œâ”€â”€ models.py          # SQLModel Database Schema
â”‚   â”œâ”€â”€ database.py        # Database Connection Config
â”‚   â””â”€â”€ services/
â”‚       â””â”€â”€ ocr.py         # OCR Logic Abstraction
â”œâ”€â”€ uploads/               # Storage for uploaded meter images
â”œâ”€â”€ verify_setup.py        # End-to-end verification script
â”œâ”€â”€ requirements.txt       # Python dependencies
â””â”€â”€ README.md
```

## ğŸ“‹ Prerequisites

- **Python 3.10+**
- **pip** (Python package manager)
- **Git**

## âš¡ Quick Start

### 1. Clone the Repository
```bash
git clone https://github.com/bejranonda/MeterVision.git
cd MeterVision
```

### 2. Set Up Virtual Environment
It is recommended to use a virtual environment to manage dependencies.
```bash
python3 -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

### 3. Install Dependencies
```bash
pip install -r requirements.txt
```

### 4. Run the Server
Start the development server using Uvicorn.
```bash
uvicorn app.main:app --reload --host 127.0.0.1 --port 8000
```
The API will be available at [http://127.0.0.1:8000](http://127.0.0.1:8000).

---

## ğŸ“– API Documentation

The project includes interactive API documentation generated by Swagger UI.

1.  Start the server.
2.  Navigate to **[http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs)** in your browser.
3.  You can explore all endpoints (Projects, Customers, Buildings, Places, Meters) and execute requests directly from the browser.

### Key Endpoints

- **Setup Hierarchy**:
    - `POST /projects/`
    - `POST /customers/`
    - `POST /buildings/`
    - `POST /places/`
    - `POST /meters/`
- **Operate**:
    - `POST /meters/{serial_number}/reading`: Upload an image file to trigger the reading process.

---

## âœ… Verification

A verification script is included to test the full flow of the system.

```bash
python verify_setup.py
```
This script will:
1.  Create a test Project, Customer, Building, and Place.
2.  Register a test Meter.
3.  Simulate an image upload and verify the reading result.

## ğŸ—ï¸ Architecture

The platform uses **SQLModel** (combining SQLAlchemy and Pydantic) for ORM and Data Validation.
- **Database**: defaults to SQLite (`meter_reading.db`) for development. Can be easily switched to PostgreSQL for production.
- **OCR Service**: Located in `app/services/ocr.py`. Currently uses a `MockMeterReader` for demonstration. detailed implementation can be added to `BasicMeterReader` or by integrating cloud vision APIs.

## ğŸ¤ Contributing

1.  Fork the repository.
2.  Create a feature branch (`git checkout -b feature/NewFeature`).
3.  Commit your changes.
4.  Push to the branch.
5.  Open a Pull Request.
